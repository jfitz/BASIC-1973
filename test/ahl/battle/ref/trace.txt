10: REM -- BATTLE WRITTEN BY RAY WESTERGARD 10/70
20: REM COPYRIGHT 1971 BY THE REGENTS OF THE UNIV. OF CALIF,
30: REM PRODUCED AT THE LAWRENCE HALL OF SCIENCE, BERKELEY
40: DIM F[6, 6], H[6, 6], A[4], B[4], C[6], L[3]
50: MAT F = ZER
 F(1,1) = 0
 F(1,2) = 0
 F(1,3) = 0
 F(1,4) = 0
 F(1,5) = 0
 F(1,6) = 0
 F(2,1) = 0
 F(2,2) = 0
 F(2,3) = 0
 F(2,4) = 0
 F(2,5) = 0
 F(2,6) = 0
 F(3,1) = 0
 F(3,2) = 0
 F(3,3) = 0
 F(3,4) = 0
 F(3,5) = 0
 F(3,6) = 0
 F(4,1) = 0
 F(4,2) = 0
 F(4,3) = 0
 F(4,4) = 0
 F(4,5) = 0
 F(4,6) = 0
 F(5,1) = 0
 F(5,2) = 0
 F(5,3) = 0
 F(5,4) = 0
 F(5,5) = 0
 F(5,6) = 0
 F(6,1) = 0
 F(6,2) = 0
 F(6,3) = 0
 F(6,4) = 0
 F(6,5) = 0
 F(6,6) = 0
60: FOR I = 1 TO 3
 I = 1
 terminated:false
70: N = 4 - I
 I: 1
 N = 3
80: FOR J = 1 TO 2
 J = 1
 terminated:false
90: A = INT(6 * RND(0)) + 1
 A = 3
100: B = INT(6 * RND(0)) + 1
 B = 5
110: D = INT(4 * RND(0)) + 1
 D = 1
120: IF F[A, B] > 0 THEN 90
 A: 3
 B: 5
 F(3,5): 0
 F[A,B]>0: false
130: M = 0
 M = 0
140: GOTO D OF 150, 340, 550, 740
 D: 1
 D = 1
150: B[1] = B
 B: 5
 B(1) = 5
160: B[2] = B[3] * 7
 B(3): 0
 B(2) = 0
170: FOR K = 1 TO N
 N: 3
 K = 1
 N = 3
 terminated:false
180: IF M > 1 THEN 240
 M: 0
 M>1: false
190: IF B[K] = 6 THEN 230
 K: 1
 B(1): 5
 B[K]=6: false
200: IF F[A, B[K] + 1] > 0 THEN 230
 A: 3
 K: 1
 B(1): 5
 F(3,6): 0
 F[A,B[K]+1]>0: false
210: B[K + 1] = B[K] + 1
 K: 1
 B(1): 5
 B(2) = 6
220: GOTO 280
280: NEXT K
 K: 1
 terminated:false
 K = 2
180: IF M > 1 THEN 240
 M: 0
 M>1: false
190: IF B[K] = 6 THEN 230
 K: 2
 B(2): 6
 B[K]=6: true
230: M = 2
 M = 2
240: Z = ((B[1] MIN B[2]) MIN B[3])
 B(1): 5
 B(2): 6
 B(3): 0
 Z = 0
250: IF Z < 1 THEN 90
 Z: 0
 Z<1: true
90: A = INT(6 * RND(0)) + 1
 A = 2
100: B = INT(6 * RND(0)) + 1
 B = 1
110: D = INT(4 * RND(0)) + 1
 D = 1
120: IF F[A, B] > 0 THEN 90
 A: 2
 B: 1
 F(2,1): 0
 F[A,B]>0: false
130: M = 0
 M = 0
140: GOTO D OF 150, 340, 550, 740
 D: 1
 D = 1
150: B[1] = B
 B: 1
 B(1) = 1
160: B[2] = B[3] * 7
 B(3): 0
 B(2) = 0
170: FOR K = 1 TO N
 N: 3
 K = 1
 N = 3
 terminated:false
180: IF M > 1 THEN 240
 M: 0
 M>1: false
190: IF B[K] = 6 THEN 230
 K: 1
 B(1): 1
 B[K]=6: false
200: IF F[A, B[K] + 1] > 0 THEN 230
 A: 2
 K: 1
 B(1): 1
 F(2,2): 0
 F[A,B[K]+1]>0: false
210: B[K + 1] = B[K] + 1
 K: 1
 B(1): 1
 B(2) = 2
220: GOTO 280
280: NEXT K
 K: 1
 terminated:false
 K = 2
180: IF M > 1 THEN 240
 M: 0
 M>1: false
190: IF B[K] = 6 THEN 230
 K: 2
 B(2): 2
 B[K]=6: false
200: IF F[A, B[K] + 1] > 0 THEN 230
 A: 2
 K: 2
 B(2): 2
 F(2,3): 0
 F[A,B[K]+1]>0: false
210: B[K + 1] = B[K] + 1
 K: 2
 B(2): 2
 B(3) = 3
220: GOTO 280
280: NEXT K
 K: 2
 terminated:false
 K = 3
180: IF M > 1 THEN 240
 M: 0
 M>1: false
190: IF B[K] = 6 THEN 230
 K: 3
 B(3): 3
 B[K]=6: false
200: IF F[A, B[K] + 1] > 0 THEN 230
 A: 2
 K: 3
 B(3): 3
 F(2,4): 0
 F[A,B[K]+1]>0: false
210: B[K + 1] = B[K] + 1
 K: 3
 B(3): 3
 B(4) = 4
220: GOTO 280
280: NEXT K
 K: 3
 terminated:true
290: F[A, B] = 9 - 2 * I - J
 A: 2
 B: 1
 I: 1
 J: 1
 F(2,1) = 6
300: FOR K = 1 TO N
 N: 3
 K = 1
 N = 3
 terminated:false
310: F[A, B[K + 1]] = F[A, B]
 A: 2
 K: 1
 B(2): 2
