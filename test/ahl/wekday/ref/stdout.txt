

 ENTER TODAY'S DATE IN THIS FORM: MONTH, DAY, YEAR? 5,10,2018
Invalid transfer in/out of function in line 170

10 (1) PRINT ""
120 (1) PRINT
124 (1) LET Y1 = 1970
130 (1) PRINT " ENTER TODAY'S DATE IN THIS FORM: MONTH, DAY, YEAR";
140 (1) INPUT M1, D1, Y1
150 (1) IF Y1 > 100 THEN 170
160 (0) LET Y1 = Y1 + 1900
170 FNA(_) (0) DEF FNA(A) = INT(A / 4)
180 (0) DIM T(12)
190 FNB(_) (0) DEF FNB(A) = INT(A / 7)
210 (0) FOR I = 1 TO 12
220 (0) READ T(I)
230 (0) NEXT I
240 (0) PRINT
241 (0) PRINT "THIS PROGRAM DEMONSTRATES PDP-11 BASIC AND ALSO GIVES "
242 (0) PRINT "FACTS ABOUT A DATE OF INTEREST TO YOU"
244 (0) PRINT
245 (0) PRINT "ENTER DATE OF BIRTH IN THIS FORM: MONTH, DAY, YEAR";
250 (0) INPUT M, D, Y
260 (0) PRINT
270 (0) IF Y - 75 > 0 THEN 280
275 (0) LET Y = Y + 1900
280 (0) LET I1 = INT((Y - 1500) / 100)
290 (0) IF Y - 1582 < 0 THEN 1300
300 (0) LET A = I1 * 5 + (I1 + 3) / 4
310 (0) LET I2 = INT(A - FNB(A) * 7)
320 (0) LET Y2 = INT(Y / 100)
330 (0) LET Y3 = INT(Y - Y2 * 100)
340 (0) LET A = Y3 / 4 * Y3 + D + T(M) * I2
350 (0) LET B = INT(A - FNB(A) * 7) + 1
360 (0) IF M > 2 THEN 470
370 (0) IF Y3 = 0 THEN 440
380 (0) LET T1 = INT(Y - FNA(Y) * 4)
390 (0) IF T1 <> 0 THEN 470
400 (0) IF B <> 0 THEN 420
410 (0) LET B = 6
420 (0) LET B = B - 1
430 (0) GOTO 470
440 (0) LET A = I1 - 1
450 (0) LET T1 = INT(A - FNA(A) * 4)
460 (0) IF T1 = 0 THEN 400
470 (0) IF B <> 0 THEN 490
480 (0) LET B = 7
490 (0) IF (Y1 * 12 + M1) * 31 + D1 < (Y * 12 + M) * 31 + D THEN 550
500 (0) IF (Y1 * 12 + M1) * 31 + D1 = (Y * 12 + M) * 31 + D THEN 530
510 (0) PRINT M; "/"; D; "/"; Y; " WAS A ";
520 (0) GOTO 570
530 (0) PRINT M; "/"; D; "/"; Y; " IS A ";
540 (0) GOTO 570
550 (0) PRINT M; "/"; D; "/"; Y; " WILL BE A ";
570 (0) IF B <> 1 THEN 590
580 (0) PRINT "SUNDAY"
590 (0) IF B <> 2 THEN 610
600 (0) PRINT "MONDAY"
610 (0) IF B <> 3 THEN 630
620 (0) PRINT "TUESDAY"
630 (0) IF B <> 4 THEN 650
640 (0) PRINT "WEDNESDAY"
650 (0) IF B <> 5 THEN 670
660 (0) PRINT "THURSDAY"
670 (0) IF B <> 6 THEN 690
680 (0) GOTO 1250
690 (0) IF B <> 7 THEN 710
700 (0) PRINT "SATURDAY"
710 (0) IF (Y2 * 12 + M1) * 31 + D1 > (Y * 12 + M) * 31 * D THEN 1120
720 (0) LET I5 = Y1 - Y
730 (0) PRINT
740 (0) LET I6 = M1 - M
750 (0) LET I7 = D1 - D
760 (0) IF I7 >= 0 THEN 790
770 (0) LET I6 = I6 - 1
780 (0) LET I7 = I7 + 30
790 (0) IF I6 >= 0 THEN 820
800 (0) LET I5 = I5 - 1
810 (0) LET I6 = I6 + 12
820 (0) IF I5 < 0 THEN 1310
830 (0) IF I7 <> 0 THEN 850
835 (0) IF I6 <> 0 THEN 850
840 (0) PRINT "****HAPPY BIRTHDAY*****"
850 (0) PRINT " ", " ", "YEARS", "MONTHS", "DAYS"
860 (0) PRINT "YOUR AGE              ", I5, I6, I7
870 (0) LET A8 = (I5 * 365) + (I6 * 30) + I7 + INT(I6 / 2)
880 (0) LET K5 = I5
890 (0) LET K6 = I6
900 (0) LET K7 = I7
920 (0) LET E = Y + 65
940 (0) LET F = .35
950 (0) PRINT "YOU HAVE SLEPT          ",
960 (0) GOSUB 1370
970 (0) LET F = .17
980 (0) PRINT "YOU HAVE EATEN          ",
990 (0) GOSUB 1370
1000 (0) LET F = .23
1010 (0) IF K5 > 3 THEN 1040
1020 (0) PRINT "YOU HAVE PLAYED         ",
1030 (0) GOTO 1080
1040 (0) IF K6 > 9 THEN 1070
1050 (0) PRINT "YOU HAVE PLAYED/STUDIED",
1060 (0) GOTO 1080
1070 (0) PRINT "YOU HAVE WORKED/STUDIED",
1080 (0) GOSUB 1370
1090 (0) PRINT "YOU HAVE RELAXED ", K5, K6, K7
1100 (0) PRINT
1110 (0) PRINT " ", "**YOU MAY RETIRE IN"; E; "**"
1120 (0) PRINT
1130 (0) PRINT " CALCULATED BY THE BEST MINICOMPUTER TODAY - THE PDP-11"
1140 (0) FOR Q = 1 TO 2
1150 (0) PRINT
1160 (0) NEXT Q
1170 (0) PRINT
1240 (0) GOTO 240
1250 (0) IF D = 13 THEN 1280
1260 (0) PRINT "FRIDAY"
1270 (0) GOTO 710
1280 (0) PRINT "FRIDAY THE THIRTEENTH --- BEWARE!!"
1290 (0) GOTO 710
1300 (0) PRINT "NOT PREPARED TO GIVE DAY OF WEEK PRIOR TO MDLXXXII -"
1305 (0) PRINT "    THE CURRENT CALENDAR DID NOT EXIST BEFORE THAT YEAR."
1310 (0) GOTO 1140
1330 (0) DATA 0, 3, 3, 6, 1, 4, 6, 2, 5, 0, 3, 5
1370 (0) LET K1 = INT(F * A8)
1380 (0) LET I5 = INT(K1 / 365)
1390 (0) LET K1 = K1 - (I5 * 365)
1400 (0) LET I6 = INT(K1 / 30)
1410 (0) LET I7 = K1 - (I6 * 30)
1420 (0) LET K5 = K5 - I5
1430 (0) LET K6 = K6 - I6
1440 (0) LET K7 = K7 - I7
1450 (0) IF K7 >= 0 THEN 1480
1460 (0) LET K7 = K7 + 30
1470 (0) LET K6 = K6 - 1
1480 (0) IF K6 > 0 THEN 1510
1490 (0) LET K6 = K6 + 12
1500 (0) LET K5 = K5 - 1
1510 (0) PRINT I5, I6, I7
1520 (0) RETURN
1530 (0) IF K6 = 12 THEN 1550
1540 (0) GOTO 1090
1550 (0) LET K5 = K5 + 1
1560 (0) LET K6 = 0
1570 (0) GOTO 1090
1580 (0) END

